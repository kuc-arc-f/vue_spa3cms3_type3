(function(t){function e(e){for(var n,r,o=e[0],c=e[1],_=e[2],u=0,m=[];u<o.length;u++)r=o[u],Object.prototype.hasOwnProperty.call(s,r)&&s[r]&&m.push(s[r][0]),s[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(e);while(m.length)m.shift()();return i.push.apply(i,_||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,o=1;o<a.length;o++){var c=a[o];0!==s[c]&&(n=!1)}n&&(i.splice(e--,1),t=r(r.s=a[0]))}return t}var n={},s={app:0},i=[];function r(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,r),a.l=!0,a.exports}r.m=t,r.c=n,r.d=function(t,e,a){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},r.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(r.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(a,n,function(e){return t[e]}.bind(null,n));return a},r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="/cms-sample-type3/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=e,o=o.slice();for(var _=0;_<o.length;_++)e(o[_]);var l=c;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2164:function(t,e,a){},2330:function(t,e,a){},"2fea":function(t,e,a){},"415b":function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var n=a("2b0e"),s=a("8c4f"),i=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("h1",[t._v("About")]),a("p",[t._v(" This page sample app for "),a("br"),t._v(" Vue.js , Vue-CLI + IndexedDB ")])])}],o=a("2877"),c={},_=Object(o["a"])(c,i,r,!1,null,null,null),l=_.exports,u=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"body_main_wrap"},[a("Head"),t._m(0),a("div",{staticClass:"container"},[t._m(1),a("div",{staticClass:"btn_hidden_ara_wrap"},[1==t.pages_display?a("div",{staticClass:"category_wrap"},[a("div",{staticClass:"row conte mt-2 mb-2"},[a("div",{staticClass:"col-sm-12"},[a("h2",{staticClass:"h4_td_title mt-2"},[t._v("Pages")]),a("div",{staticClass:"page_btn_wrap mb-0"},t._l(t.page_items,(function(e){return a("span",{key:e.id},[a("router-link",{staticClass:"btn btn-outline-dark ml-2 mb-2",attrs:{to:"/pages/"+e.save_id,target:"_blank"}},[t._v(" "+t._s(e.title)+" ")])],1)})),0)])])]):t._e(),a("div",{staticClass:"category_wrap"},[a("div",{staticClass:"row conte",staticStyle:{"margin-top":"20px","margin-bottom":"20px"}},[a("div",{staticClass:"col-sm-12"},[a("h2",{staticClass:"h4_td_title mt-2"},[t._v("Category")]),a("div",{staticClass:"category_btn_wrap mb-0"},t._l(t.category_items,(function(e){return a("span",{key:e.id},[a("button",{staticClass:"btn btn-outline-dark ml-2 mb-2",on:{click:function(a){return t.get_category_items(e.save_id)}}},[t._v(" "+t._s(e.name)+" ")])])})),0)])])])]),a("div",{staticClass:"body_wrap mb-2"},[a("div",{staticClass:"row conte mt-2",staticStyle:{"margin-bottom":"20px"},attrs:{id:"post_items_box"}},[a("div",{staticClass:"col-sm-12"},[t._m(2),t._l(t.cms_items,(function(t){return a("TopPostItems",{key:t.id,attrs:{item:t}})})),1==t.pagenate_display?a("div",{staticClass:"paginate_wrap",staticStyle:{"text-align":"center"}},[a("button",{staticClass:"btn btn-lg btn-outline-primary",on:{click:function(e){return t.get_next_items()}}},[t._v(" 次ページを読む ")])]):t._e(),a("br")],2)])])])],1)},m=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"cover",attrs:{id:"div_img_main2",valign:"bottom"}},[a("div",{attrs:{id:"div_img_layer_w"}},[a("h1",[t._v("CMS - Sample"),a("br")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"btn_menu_area_wrap"},[a("div",{staticClass:"row conte mt-2 mb-2"},[a("a",{staticClass:"ml-4 mt-2 mb-2 menu_display_btn",attrs:{href:"#"}},[a("i",{staticClass:"fas fa-bars"})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"div_news"}},[a("h2",{staticClass:"h4_td_title mt-2"},[t._v("New Posts")])])}],d={created:function(){this.set_sysConst()},methods:{mtd:function(){console.log("mixin mtd")},set_sysConst:function(){this.sysConst={STORAGE_KEY_showId:"key_show_id",STORAGE_KEY_tasksData:"key_tasks_dat",STORAGE_KEY_flash:"strage_flash_key",STORAGE_KEY_userData:"key_user_dat",KEY_NEXT_ACTION:"key_next_action",KEY_CHAT_JOIN_ITEMS:"key_chat_join_items",KEY_MDAT_MONTH:"key_mdat_month",KEY_CMS_EDIT_ITMES:"key_cms_edit_items",INDEX_DB_NAME:"test_idx_db4",DEXIE_DB_NAME:"test_idx_db6",DEXIE_DB_VERSION:3,DEXIE_DB_STORE:{person:"++id, name, age",tasks:"++id, title, content ,created_at",todos:"++id, title, content , complete, created_at",file_items:"++id, name, created_at"}}},set_exStorage:function(t,e){localStorage.setItem(t,JSON.stringify(e))},get_exStorage:function(t){var e=JSON.parse(localStorage.getItem(t)||"[]");return e},remove_exStorage:function(t){localStorage.removeItem(t)},check_userState:function(t,e){var a=this.get_exStorage(t);a.length>0||e.$router.push("/users/login")},valid_login:function(t){var e=!1,a=this.get_exStorage(t);return a.length>0&&(e=!0),e},get_userId:function(t){var e="",a=this.get_exStorage(t);if(a.length>0){var n=a[0];e=n.id}return e}}},f=a("bc3a"),g=a.n(f),p=a("1157"),v=a.n(p),h=(a("4160"),a("fb6a"),a("ac1f"),a("466d"),a("5319"),a("159b"),{formatDate:function(t,e){if(e||(e="YYYY-MM-DD hh:mm:ss.SSS"),e=e.replace(/YYYY/g,t.getFullYear()),e=e.replace(/MM/g,("0"+(t.getMonth()+1)).slice(-2)),e=e.replace(/DD/g,("0"+t.getDate()).slice(-2)),e=e.replace(/hh/g,("0"+t.getHours()).slice(-2)),e=e.replace(/mm/g,("0"+t.getMinutes()).slice(-2)),e=e.replace(/ss/g,("0"+t.getSeconds()).slice(-2)),e.match(/S/g))for(var a=("00"+t.getMilliseconds()).slice(-3),n=e.match(/S/g).length,s=0;s<n;s++)e=e.replace(/S/,a.substring(s,s+1));return e},get_item:function(t,e){var a=null;return t.forEach((function(t){t.id==e&&(a=t)})),a},get_string_rigth:function(t,e){t="0000000000"+t;var a=t.length,n=a-e,s=t.substring(n,a);return s},convert_items:function(t){var e=[],a=this;return t.forEach((function(t){var n=new Date(t.created_at);n=a.formatDate(n,"YYYY-MM-DD hh:mm"),t.created_at=n,e.push(t)})),e},get_reverse_items:function(t){var e=[],a=this;return t.forEach((function(t){var n=new Date(t.created_at);n=a.formatDate(n,"YYYY-MM-DD hh:mm"),t.created_at=n,e.unshift(t)})),e}}),b={get_max_page:function(t,e){var a=0,n=t.length%e;return a=t.length/e,a=parseInt(a),n>0&&(a+=1),a},get_items:function(t,e,a){var n=[],s=(e-1)*a,i=e*a;return t.forEach((function(t,e){e>=s&&e<i&&n.push(t)})),n},add_page_items:function(t,e){var a=t;return e.forEach((function(t){a.push(t)})),a}},y={get_const:function(){return{DB_NAME:"cms_edit3_idx_kuc_db",DB_VERSION:1,DB_STORE:{cms_edit:"++id, category, show_id , title, content , created_at",category:"++id, name, save_id, created_at",pages:"++id, save_id , title, content , created_at"},file_version:3}},get_show_item:function(t,e){var a=null;return t.forEach((function(t){t.show_id==String(e)&&(a=t)})),a},get_page_item:function(t,e){var a=null;return t.forEach((function(t){t.save_id==String(e)&&(a=t)})),a},get_category_item:function(t,e){var a={id:0,name:"",save_id:"id0"};return t.forEach((function(t){t.save_id==String(e)&&(a=t)})),a},get_category_data:function(t,e){var a=[];return t.forEach((function(t){t.category.save_id==String(e)&&a.push(t)})),a}},C=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},x=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"div_navigate_index"}},[a("div",{staticClass:"cover",attrs:{id:"div_head"}},[a("div",{staticClass:"container"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-4"},[a("a",{staticClass:"home_link",attrs:{href:"./"}},[a("p",[a("i",{staticClass:"fas fa-home"})])])]),a("div",{staticClass:"col-sm-8",staticStyle:{"text-align":"right"}})])])])])}],E={created:function(){},methods:{toggle_click:function(){v()(".mobile-child").slideToggle(300)}}},S=E,w=Object(o["a"])(S,C,x,!1,null,null,null),D=w.exports,Y=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"div_news_rows"},[t._m(0),a("h3",{staticClass:"ml-10"},[a("router-link",{attrs:{to:"/show/"+t.item.show_id}},[t._v(t._s(t.item.title)+" ")])],1)]),a("div",[a("ul",{staticClass:"ul_time_box"},[a("li",[a("p",{staticClass:"mb-0"},[t._m(1),t._v(" "+t._s(t.item.created_at)+" , ID: "+t._s(t.item.id)+" ")]),""!=t.item.category.name?a("div",[a("span",{staticClass:"mr-2",staticStyle:{"font-size":"20px"}},[a("i",{staticClass:"fas fa-folder"}),t._v(" "+t._s(t.item.category.name)+" ")])]):t._e()])])]),a("hr",{staticClass:"hr_ex1"})])},k=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"mr-2",staticStyle:{"font-size":"28px",float:"left"}},[a("i",{staticClass:"fas fa-arrow-circle-right"})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"mr-2",staticStyle:{"font-size":"20px"}},[a("i",{staticClass:"far fa-calendar"})])}],O={mixins:[d],props:["item"],created:function(){}},M=O,T=Object(o["a"])(M,Y,k,!1,null,null,null),I=T.exports,j={components:{Head:D,TopPostItems:I},mixins:[d],created:function(){var t=this.get_exStorage(this.sysConst.KEY_NEXT_ACTION);this.remove_exStorage(this.sysConst.KEY_NEXT_ACTION),t.length>0&&this.$router.push(t),this.get_page_items(1)},data:function(){return{cms_items:[],category_items:[],page_items:[],items_all:[],pagenate_display:0,page_one_max:20,page_number:1,page_max:0,pages_display:0,URL_BASE:""}},methods:{get_page_items:function(t){var e=this,a=h.formatDate(new Date,"YYYY-MM-DD_hhmmss"),n="./cms.json?"+a;g.a.get(n).then((function(a){var n=a.data,s=[];null!=n.file_version?(s=h.get_reverse_items(n.items),null!=n.category_items&&(e.category_items=n.category_items),null!=n.page_items&&(n.page_items.length>0&&(e.pages_display=1),e.page_items=n.page_items),e.items_all=s):alert("Error, file version can not import, version 2 over require"),e.page_max=b.get_max_page(s,e.page_one_max),e.cms_items=b.get_items(s,t,e.page_one_max),e.page_max>=2&&(e.pagenate_display=1)}))},get_next_items:function(){this.page_number+=1;var t=b.get_items(this.items_all,this.page_number,this.page_one_max);this.cms_items=b.add_page_items(this.cms_items,t)},get_category_items:function(t){this.pagenate_display=0,this.cms_items=y.get_category_data(this.items_all,t)}}};v()((function(){v()(".menu_display_btn").click((function(){v()(".btn_hidden_ara_wrap").css("display","inherit")}))}));var $=j,N=(a("599a"),Object(o["a"])($,u,m,!1,null,null,null)),A=N.exports,P=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Head"),a("div",{staticClass:"container"},[a("router-link",{staticClass:"btn btn-outline-primary mt-2",attrs:{to:"/"}},[t._v("Back ")]),a("hr",{staticClass:"mt-2 mb-2"}),a("h1",[t._v(t._s(t.title))]),t._v(" ID : "+t._s(t.id)),a("br"),t._v(" date : "+t._s(t.create)),a("br"),a("span",{staticStyle:{"font-size":"20px","margin-right":"10px"}},[a("i",{staticClass:"fas fa-folder"}),t._v(" "+t._s(t.category_name)),a("br")]),a("hr"),a("div",{attrs:{id:"post_item"},domProps:{innerHTML:t._s(t.content)}}),a("hr")],1)],1)},R=[],H=(a("b0c0"),a("96cf"),a("1da1")),B=a("0e54"),K=a.n(B),X={components:{Head:D},mixins:[d],created:function(){var t=String(this.$route.params.id);this.get_item(t)},data:function(){var t={title:"",content:""};return{id:0,item:t,tasks:[],title:"",content:"",create:"",cms_items:[],category_name:""}},methods:{get_item:function(t){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=h.formatDate(new Date,"YYYY-MM-DD_hhmmss"),g.a.get("./cms.json?"+n).then((function(a){var n=a.data,s=h.convert_items(n.items),i=y.get_show_item(s,String(t));e.title=i.title,e.content=K()(i.content),e.create=i.created_at,e.id=i.id,e.category_name=i.category.name}));case 2:case"end":return a.stop()}}),a)})))()}}},J=X,z=(a("dac4"),Object(o["a"])(J,P,R,!1,null,null,null)),G=z.exports,L=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Head"),a("div",{staticClass:"container"},[a("h1",[t._v(t._s(t.title))]),t._v(" ID : "+t._s(t.id)),a("br"),t._v(" date : "+t._s(t.create)),a("br"),a("hr"),a("div",{attrs:{id:"post_item"},domProps:{innerHTML:t._s(t.content)}}),a("hr")])],1)},V=[],F={components:{Head:D},mixins:[d],created:function(){var t=String(this.$route.params.id);this.get_item(t)},data:function(){var t={title:"",content:""};return{id:0,item:t,tasks:[],title:"",content:"",create:"",cms_items:[],category_name:""}},methods:{get_item:function(t){var e=this;return Object(H["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=h.formatDate(new Date,"YYYY-MM-DD_hhmmss"),g.a.get("./cms.json?"+n).then((function(a){var n=a.data;console.log(n.page_items);var s=h.convert_items(n.page_items),i=y.get_page_item(s,String(t));console.log(i),e.title=i.title,e.content=K()(i.content),e.create=i.created_at,e.id=i.id}));case 2:case"end":return a.stop()}}),a)})))()}}},q=F,U=Object(o["a"])(q,L,V,!1,null,null,null),Q=U.exports;n["a"].use(s["a"]);var W=new s["a"]({routes:[{path:"/",component:A},{path:"/show/:id",component:G},{path:"/pages/:id",component:Q},{path:"/about",component:l}]}),Z=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("div",[a("router-view")],1),a("Footer")],1)},tt=[],et=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"footer_box mt5",attrs:{id:"id_foot"}},[a("router-link",{attrs:{to:"/about"}},[a("p",{staticClass:"p_foot_str"},[t._v("About")])])],1)},at=[],nt=(a("8654"),{}),st=Object(o["a"])(nt,et,at,!1,null,null,null),it=st.exports,rt=(a("585e"),a("2164"),a("2330"),{name:"app",components:{Footer:it}}),ot=rt,ct=Object(o["a"])(ot,Z,tt,!1,null,null,null),_t=ct.exports;n["a"].config.productionTip=!1,new n["a"]({router:W,render:function(t){return t(_t)}}).$mount("#app")},"585e":function(t,e,a){},"599a":function(t,e,a){"use strict";var n=a("2fea"),s=a.n(n);s.a},8654:function(t,e,a){"use strict";var n=a("415b"),s=a.n(n);s.a},"98c1":function(t,e,a){},dac4:function(t,e,a){"use strict";var n=a("98c1"),s=a.n(n);s.a}});
//# sourceMappingURL=app.7fba6eb9.js.map